# Onboarding Flow Trace & Next Steps

## 1. Onboarding Steps
- **information/**: Collects personal information.
- **contact/**: Collects contact details.
- **education/**: Collects education background.
- **activity/**: Collects activity and membership info.
- **attachment/**: Collects attachments (CV, image, etc).
- **terms/**: User agrees to terms.
- **review/**: User reviews all entered data and submits the application.

## 2. Submission (Review Step)
- On submission, the following occurs:
  - User's `onboardingStatus` is set to `"COMPLETED"`.
  - User's `applicationStatus` is set to `"PENDING"` (workaround until schema update).
  - Notification is sent to all users with roles `MEMBERSHIP_SECRETARY` and `ADMIN` (via email, optionally SMS/WhatsApp).
  - User sees a success dialog and is redirected to the home page.

## 3. After Submission: Admin Review
- Admins and membership secretaries are notified of the new application.
- They can review all pending applications in the `/membership/applications` dashboard.
- Actions available:
  - **Approve**: Sets `applicationStatus` to `"APPROVED"`, notifies applicant.
  - **Reject**: Sets `applicationStatus` to `"REJECTED"`, notifies applicant.

## 4. Membership Suspension Until Approval
- While `applicationStatus` is `"PENDING"`, the member should be considered **suspended** (not yet a full member).
- The codebase does not have a separate `suspended` field; use `applicationStatus: "PENDING"` for this purpose.
- **Action Required:**
  - Ensure that users with `applicationStatus !== "APPROVED"` have limited or no access to member-only features.
  - Add checks in protected routes/components to enforce this restriction.

## 5. Notifications
- On submission, all relevant admins/secretaries are notified.
- On approval/rejection, the applicant is notified by email (and optionally SMS/WhatsApp).

## 6. Next Steps / TODO
- [ ] Audit all member-only features and restrict access for users with `applicationStatus !== "APPROVED"`.
- [ ] (Optional) Add a UI indicator for users whose application is still pending or was rejected.
- [ ] (Optional) Add an explicit `suspended` or `isActive` field if more granular control is needed in the future.
- [ ] Ensure admin dashboard `/membership/applications` is visible only to `MEMBERSHIP_SECRETARY` and `ADMIN` roles.
- [ ] Document this flow for future maintainers.

---

_Last updated: [auto-generated by AI]_ 